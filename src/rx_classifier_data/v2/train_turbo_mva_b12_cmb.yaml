q2:
  low    : (Jpsi_M * Jpsi_M >        0) && (Jpsi_M * Jpsi_M <  1100000)
  central: (Jpsi_M * Jpsi_M >  1100000) && (Jpsi_M * Jpsi_M <  6000000)
  jpsi   : (Jpsi_M * Jpsi_M >  6000000) && (Jpsi_M * Jpsi_M < 12960000)
  psi2   : (Jpsi_M * Jpsi_M >  9920000) && (Jpsi_M * Jpsi_M < 16400000)
  high   : (Jpsi_M * Jpsi_M > 15500000) && (Jpsi_M * Jpsi_M < 22000000)
hyper               :
  loss              : log_loss
  max_depth         : 3
  min_samples_split : 2
# ----------------------------------
dataset :
  selection:
    bkg :
      mass : 'mass > 5500'
      run  : 'block == 1 || block == 2'
    sig :
      mass : 'mass < 7000'
  paths:
    sig :
      file_path : /publicfs/ucas/user/campoverde/Data/RX_run3/v2/NO_q2_bdt_Q2_central_VR_v1/Bu_Kee_eq_btosllball05_DPC/Hlt2RD_BuToKpEE_MVA/*.root
      tree_name : DecayTree 
    bkg :
      file_path : /publicfs/ucas/user/campoverde/Data/RX_run3/v2/NO_q2_bdt_Q2_central_VR_v1/DATA_24_Mag*_24c2/Hlt2RD_BuToKpEE_MVA/*.root
      tree_name : DecayTree 
  define :
    mass       : 'B_M'
    min_ll_pt  : 'TMath::Min(L1_PT , L2_PT)'
    max_ll_pt  : 'TMath::Max(L1_PT , L2_PT)'
    min_ll_ipc : 'TMath::Min(L1_IPCHI2_OWNPV, L2_IPCHI2_OWNPV)'
    max_ll_ipc : 'TMath::Max(L1_IPCHI2_OWNPV, L2_IPCHI2_OWNPV)'
training :
  nfold    : 10
  rdm_stat : 1
  hyper:
    low : 
      n_estimators : 20
      learning_rate: 0.02
      max_depth    : 2
    central : 
      n_estimators : 70
      learning_rate: 0.05
    high : 
      n_estimators : 50
      learning_rate: 0.05
  features : 
    - B_PT
    - B_IPCHI2_OWNPV
    - B_FDCHI2_OWNPV
    - B_ENDVERTEX_CHI2DOF 
    - B_DIRA_OWNPV
    #
    - Jpsi_PT
    - Jpsi_DIRA_OWNPV
    - Jpsi_CHI2DOF
    - Jpsi_IPCHI2_OWNPV
    #
    - min_ll_pt
    - max_ll_pt
    - max_ll_ipc
    - min_ll_ipc
    #
    - H_PT 
    - H_IPCHI2_OWNPV 
saving:
  path : 'output/mva_rare_2024_cmb/VERSION/model.pkl'
plotting:
  roc :
    min : [0.9, 0.9]
  val_dir : 'output/mva_rare_2024_cmb/VERSION/plots'
  features:
    saving:
      plt_dir : 'output/mva_rare_2024_cmb/VERSION/plots/features'
    plots:
      B_PT :
        normalized : true
        binning : [0, 30000, 100]
        yscale  : 'log'
        labels  : ['$p_T(B^+)$', '']
      B_IPCHI2_OWNPV :
        normalized : true
        binning : [0, 20, 100]
        yscale  : 'log'
        labels  : ['$IP_{\chi^2}(B^+)$', '']
      B_FDCHI2_OWNPV :
        normalized : true
        binning : [0, 10000, 100]
        yscale  : 'log'
        labels  : ['$FD_{\chi^2}(B^+)$', '']
      B_ENDVERTEX_CHI2DOF:
        normalized : true
        binning : [0, 10, 100]
        yscale  : 'log'
        labels  : ['$\chi^2/dof(B^+)$', '']
      B_DIRA_OWNPV:
        normalized : true
        binning : [0.9995, 1, 100]
        yscale  : 'log'
        labels  : ['DIRA$(B^+)$', '']

      Jpsi_PT :
        normalized : true
        binning : [0, 30000, 100]
        yscale  : 'log'
        labels  : ['$p_T(J/\psi)$', '']
      Jpsi_IPCHI2_OWNPV:
        normalized : true
        binning : [0, 500, 100]
        yscale  : 'log'
        labels  : ['$IP_{\chi^2}(J/\psi)$', '']
      Jpsi_CHI2DOF:
        normalized : true
        binning : [0, 10, 100]
        yscale  : 'log'
        labels  : ['$\chi^2/dof(J/\psi)$', '']
      Jpsi_DIRA_OWNPV:
        normalized : true
        binning : [0.99,  1, 100]
        yscale  : 'log'
        labels  : ['DIRA$(J/\psi)$', '']
        #
      min_ll_pt:
        normalized : true
        binning : [0, 10000, 100]
        yscale  : 'log'
        labels  : ['$\min(p_T(e^+), p_T(e^-))$', '']
      max_ll_pt:
        normalized : true
        binning : [0, 20000, 100]
        yscale  : 'log'
        labels  : ['$\max(p_T(e^+), p_T(e^-))$', '']
      min_ll_ipc:
        normalized : true
        binning : [0,  500, 100]
        yscale  : 'log'
        labels  : ['$\min(IP_{\chi^2}(e^+), IP_{\chi^2}(e^-))$', '']
      max_ll_ipc:
        normalized : true
        binning : [0, 3000, 100]
        yscale  : 'log'
        labels  : ['$\max(IP_{\chi^2}(e^+), IP_{\chi^2}(e^-))$', '']
        #
      H_PT :
        normalized : true
        binning : [0, 15000, 100]
        yscale  : 'log'
        labels  : ['$p_T(K^+)$', '']
      H_IPCHI2_OWNPV:
        normalized : true
        binning : [0, 2000, 100]
        yscale  : 'log'
        labels  : ['$IP_{\chi^2}(K^+)$', '']
        #
      mass:
        normalized : true
        binning : [4400, 6500, 50]
        yscale  : 'linear'
        labels  : ['$M_{DTF}(B^+)$', '']
